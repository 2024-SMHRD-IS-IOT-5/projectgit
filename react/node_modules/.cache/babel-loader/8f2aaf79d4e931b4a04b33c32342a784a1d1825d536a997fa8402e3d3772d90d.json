{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignupBy=()=>{const[step,setStep]=useState(1);// 현재 단계\nconst[formData,setFormData]=useState({id:\"\",password:\"\",confirmPassword:\"\",height:\"\",weight:\"\",age:\"\"});// 입력값 변경 처리\nconst handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};// Step 1 유효성 검사 및 Step 2로 이동\nconst handleNextStep=()=>{if(!formData.id||!formData.password){alert(\"아이디와 비밀번호를 입력해주세요.\");return;}if(formData.password!==formData.confirmPassword){alert(\"비밀번호가 일치하지 않습니다.\");return;}setStep(2);// Step 2로 이동\n};// 최종 제출 (Step 2)\nconst handleSubmit=async e=>{e.preventDefault();// Step 1과 Step 2 데이터를 서버로 전송\nconst dataToSend={id:formData.id,password:formData.password,height:formData.height,weight:formData.weight,age:formData.age};try{const response=await fetch(\"http://localhost:3001/api/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(dataToSend)});if(response.ok){alert(\"회원가입이 완료되었습니다!\");setFormData({id:\"\",password:\"\",confirmPassword:\"\",height:\"\",weight:\"\",age:\"\"});setStep(1);}else{const result=await response.json();alert(`오류: ${result.message}`);}}catch(error){console.error(\"회원가입 요청 중 오류 발생:\",error);alert(\"서버와 연결할 수 없습니다.\");}};return/*#__PURE__*/_jsx(\"div\",{children:step===1?/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Step 1: \\uACC4\\uC815 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uC544\\uC774\\uB514:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",value:formData.id,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uBE44\\uBC00\\uBC88\\uD638:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleNextStep,children:\"\\uB2E4\\uC74C \\uB2E8\\uACC4\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Step 2: \\uCD94\\uAC00 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uD0A4 (cm):\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"height\",value:formData.height,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uBAB8\\uBB34\\uAC8C (kg):\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:formData.weight,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\uB098\\uC774 (\\uC120\\uD0DD):\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:formData.age,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785 \\uC644\\uB8CC\"})]})});};export default SignupBy;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SignupBy","step","setStep","formData","setFormData","id","password","confirmPassword","height","weight","age","handleChange","e","name","value","target","handleNextStep","alert","handleSubmit","preventDefault","dataToSend","response","fetch","method","headers","body","JSON","stringify","ok","result","json","message","error","console","children","type","onChange","required","onClick","onSubmit"],"sources":["C:/Users/smhrd/Desktop/projectgit/react/src/components/signup/SignupBy.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst SignupBy = () => {\r\n  const [step, setStep] = useState(1); // 현재 단계\r\n  const [formData, setFormData] = useState({\r\n    id: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    age: \"\",\r\n  });\r\n\r\n  // 입력값 변경 처리\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  // Step 1 유효성 검사 및 Step 2로 이동\r\n  const handleNextStep = () => {\r\n    if (!formData.id || !formData.password) {\r\n      alert(\"아이디와 비밀번호를 입력해주세요.\");\r\n      return;\r\n    }\r\n    if (formData.password !== formData.confirmPassword) {\r\n      alert(\"비밀번호가 일치하지 않습니다.\");\r\n      return;\r\n    }\r\n    setStep(2); // Step 2로 이동\r\n  };\r\n\r\n  // 최종 제출 (Step 2)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Step 1과 Step 2 데이터를 서버로 전송\r\n    const dataToSend = {\r\n      id: formData.id,\r\n      password: formData.password,\r\n      height: formData.height,\r\n      weight: formData.weight,\r\n      age: formData.age,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:3001/api/signup\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(dataToSend),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert(\"회원가입이 완료되었습니다!\");\r\n        setFormData({\r\n          id: \"\",\r\n          password: \"\",\r\n          confirmPassword: \"\",\r\n          height: \"\",\r\n          weight: \"\",\r\n          age: \"\",\r\n        });\r\n        setStep(1);\r\n      } else {\r\n        const result = await response.json();\r\n        alert(`오류: ${result.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"회원가입 요청 중 오류 발생:\", error);\r\n      alert(\"서버와 연결할 수 없습니다.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {step === 1 ? (\r\n        <form>\r\n          <h2>Step 1: 계정 정보</h2>\r\n          <label>\r\n            아이디:\r\n            <input\r\n              type=\"text\"\r\n              name=\"id\"\r\n              value={formData.id}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            비밀번호:\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            비밀번호 확인:\r\n            <input\r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              value={formData.confirmPassword}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </label>\r\n          <br />\r\n          <button type=\"button\" onClick={handleNextStep}>\r\n            다음 단계\r\n          </button>\r\n        </form>\r\n      ) : (\r\n        <form onSubmit={handleSubmit}>\r\n          <h2>Step 2: 추가 정보</h2>\r\n          <label>\r\n            키 (cm):\r\n            <input\r\n              type=\"number\"\r\n              name=\"height\"\r\n              value={formData.height}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            몸무게 (kg):\r\n            <input\r\n              type=\"number\"\r\n              name=\"weight\"\r\n              value={formData.weight}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            나이 (선택):\r\n            <input\r\n              type=\"number\"\r\n              name=\"age\"\r\n              value={formData.age}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n          <br />\r\n          <button type=\"submit\">회원가입 완료</button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupBy;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}